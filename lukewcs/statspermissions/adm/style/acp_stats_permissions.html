{#
*
* 
* Stats Permissions. An extension for the phpBB Forum Software package.
*
* @copyright (c) 2019, LukeWCS, https://www.wcsaga.org/
* @license GNU General Public License, version 2 (GPL-2.0)
*
#}

{% INCLUDE 'overall_header.html' %}
<a name="maincontent"></a>

<h1>{{ STATS_PERMISSIONS_CONFIG_TITLE_TEXT }}</h1>

<form id="stats_permissions_form" method="post" action="{{ U_ACTION }}">
	<fieldset>
		<legend>{{ lang('STATS_PERMISSIONS_SECTION_PERMISSIONS') }}</legend>
		<dl id="stats_permissions_opt_admin_mode">
			<dt><label>{{ lang('STATS_PERMISSIONS_ADMIN_MODE') }}{{ lang('COLON') }}</label><br /><span>{{ lang('STATS_PERMISSIONS_ADMIN_MODE_EXP') }}</span></dt>
			<dd>
				<label><input type="radio" class="radio" name="stats_permissions_admin_mode" id="stats_permissions_admin_mode_1" value="1" onchange="stats_permissions_set_controls_state()" {% if STATS_PERMISSIONS_ADMIN_MODE == 1 %}checked="checked"{% endif %} /> {{ lang('YES') }}</label>
				<label><input type="radio" class="radio" name="stats_permissions_admin_mode" id="stats_permissions_admin_mode_0" value="0" onchange="stats_permissions_set_controls_state()" {% if STATS_PERMISSIONS_ADMIN_MODE == 0 %}checked="checked"{% endif %} /> {{ lang('NO') }}</label>
			</dd>
		</dl>
		<dl id="stats_permissions_opt_use_permissions">
			<dt><label>{{ lang('STATS_PERMISSIONS_USE_PERMISSIONS') }}{{ lang('COLON') }}</label><br /><span>{{ lang('STATS_PERMISSIONS_USE_PERMISSIONS_EXP') }}</span></dt>
			<dd>
				<label><input type="radio" class="radio" name="stats_permissions_use_permissions" id="stats_permissions_use_permissions_1" value="1" onchange="stats_permissions_set_controls_state()" {% if STATS_PERMISSIONS_USE_PERMISSIONS == 1 %}checked="checked"{% endif %} /> {{ lang('YES') }}</label>
				<label><input type="radio" class="radio" name="stats_permissions_use_permissions" id="stats_permissions_use_permissions_0" value="0" onchange="stats_permissions_set_controls_state()" {% if STATS_PERMISSIONS_USE_PERMISSIONS == 0 %}checked="checked"{% endif %} /> {{ lang('NO') }}</label>
			</dd>
		</dl>
		<dl id="stats_permissions_opt_disp_for_guests">
			<dt><label>{{ lang('STATS_PERMISSIONS_DISP_FOR_GUESTS') }}{{ lang('COLON') }}</label><br /><span>{{ lang('STATS_PERMISSIONS_DISP_FOR_GUESTS_EXP') }}</span></dt>
			<dd>
				<select name="stats_permissions_disp_for_guests">
					<option id="stats_permissions_disp_for_guests_1" value="1" {% if STATS_PERMISSIONS_DISP_FOR_GUESTS == 1 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_1') }}</option>
					<option id="stats_permissions_disp_for_guests_3" value="3" {% if STATS_PERMISSIONS_DISP_FOR_GUESTS == 3 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_3') }}</option>
					<option id="stats_permissions_disp_for_guests_0" value="0" {% if STATS_PERMISSIONS_DISP_FOR_GUESTS == 0 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_0') }}</option>
					<option id="stats_permissions_disp_for_guests_2" value="2" {% if STATS_PERMISSIONS_DISP_FOR_GUESTS == 2 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_2') }}</option>
				</select>
			</dd>
		</dl>
		<dl id="stats_permissions_opt_disp_for_bots">
			<dt><label>{{ lang('STATS_PERMISSIONS_DISP_FOR_BOTS') }}{{ lang('COLON') }}</label><br /><span>{{ lang('STATS_PERMISSIONS_DISP_FOR_BOTS_EXP') }}</span></dt>
			<dd>
				<select name="stats_permissions_disp_for_bots">
					<option id="stats_permissions_disp_for_bots_1" value="1" {% if STATS_PERMISSIONS_DISP_FOR_BOTS == 1 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_1') }}</option>
					<option id="stats_permissions_disp_for_bots_3" value="3" {% if STATS_PERMISSIONS_DISP_FOR_BOTS == 3 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_3') }}</option>
					<option id="stats_permissions_disp_for_bots_0" value="0" {% if STATS_PERMISSIONS_DISP_FOR_BOTS == 0 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_0') }}</option>
					<option id="stats_permissions_disp_for_bots_2" value="2" {% if STATS_PERMISSIONS_DISP_FOR_BOTS == 2 %}selected="selected"{% endif %}>{{ lang('STATS_PERMISSIONS_DISP_PERM_2') }}</option>
				</select>
			</dd>
		</dl> 	</fieldset>

	<fieldset>
		<legend>{{ lang('STATS_PERMISSIONS_SECTION_RESET') }}</legend>
		<dl id="stats_permissions_opt_defaults">
			<dt><label>{{ lang('STATS_PERMISSIONS_DEFAULTS') }}{{ lang('COLON') }}</label><br /><span>{{ lang('STATS_PERMISSIONS_DEFAULTS_EXP') }}</span></dt>
			<dd>
				<input class="button2" type="button" id="stats_permissions_defaults" name="stats_permissions_defaults" value="{{ lang('STATS_PERMISSIONS_BUTTON_DEFAULTS') }}" onclick="stats_permissions_set_defaults()" />
			</dd>
		</dl>
	</fieldset>

	<p class="submit-buttons">
		<input class="button1" type="submit" id="submit" name="submit" value="{{ lang('SUBMIT') }}" />&nbsp;
		<input class="button2" type="button" id="form_reset" name="form_reset" value="{{ lang('RESET') }}" onclick="stats_permissions_custom_form_reset()" />
	</p>
{{ S_FORM_TOKEN }}
</form>

<script>
window.onload = stats_permissions_set_controls_state();

function stats_permissions_set_controls_state() {
	const enabled = "1.0";
	const disabled = "0.35";

	document.getElementById("stats_permissions_opt_use_permissions").style.opacity = (document.getElementById("stats_permissions_admin_mode_0").checked) ? enabled : disabled;
	document.getElementById("stats_permissions_opt_disp_for_guests").style.opacity = (document.getElementById("stats_permissions_admin_mode_0").checked && document.getElementById("stats_permissions_use_permissions_0").checked) ? enabled : disabled;
	document.getElementById("stats_permissions_opt_disp_for_bots").style.opacity = (document.getElementById("stats_permissions_admin_mode_0").checked && document.getElementById("stats_permissions_use_permissions_0").checked) ? enabled : disabled;
}

function stats_permissions_set_defaults() {
	document.getElementById("stats_permissions_admin_mode_0").checked = true;
	document.getElementById("stats_permissions_use_permissions_0").checked = true;
	document.getElementById("stats_permissions_disp_for_guests_0").selected = true;
	document.getElementById("stats_permissions_disp_for_bots_2").selected = true;
	stats_permissions_set_controls_state();
}

function stats_permissions_custom_form_reset() {
	document.getElementById("stats_permissions_form").reset();
	stats_permissions_set_controls_state();
}
</script>

{% INCLUDE 'overall_footer.html' %}
